{% extends "registration/auth_header.html" %}
{% load static %}
{% block title %} Login {% endblock title %}
{% block content %}
{% load crispy_forms_tags %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
<style>
    form i {
        margin-right: 20px;
        margin-top: -37px !important;
        cursor: pointer;
        display: block;
        text-align: right;
    }
    .box img{
        height:auto
    }
    .logo{
        margin-top: -70px;
        margin-bottom: 20px;
        }
    
</style>
<div class="bg">
    <div class="box">
        <div class="logo text-center">
            <img src="{% static 'img/logo.png' %}">
        </div>
        <h3 class="text-center1 mt-3 mb-3">Login</h3>
        {% for error in form.non_field_errors %}
             <p style="color: red;">{{ error }}</p>
        {% endfor %}
        <form method='POST'>
        {% csrf_token %}
        <div class="form-outline" style="border-radius:50px">
            {{ form.username|as_crispy_field }}

        </div>
        <div class="form-outline" style="border-radius:50px">
            {{ form.password|as_crispy_field}}
        </div>
        <div class="forgot-password-section">
            <div class="form-group"> 
                <div id="div_id_remember_me_custom" class="form-check"> 
                    <input type="checkbox" name="remember_me" class="checkboxinput form-check-input" id="id_remember_me"> 
                    <label for="id_remember_me" class="form-check-label">
                Remember me
            </label> </div> </div>
            {% comment %} <input type="checkbox" name="remember_me" class="checkboxinput form-check-input" id="remember_me">
            <label for="remember_me" class="con">Remember me
      </label> {% endcomment %}
            <label class="float-right"> <a class="forgot button" href="{% url 'password_reset' %}">Forgot password?</a></label>
        </div>
        <button class="btn1" type="submit">Login</button>
        </form>
        <div style="margin-top:10px"><a href="{% url 'main_page' %}">&lt; Back to Main Site</a></div>
        {% comment %} <h6 class="sign-up-head mt-3" style="font-size:15px;">Need an account? &nbsp;<a href="{% url 'signup' %}" class="sign">Sign Up Here!</a></h6> {% endcomment %}
    </div>
</div>
<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        // toggle the eye / eye slash icon
        this.classList.toggle('bi-eye');
});
</script>
{% endblock content %}
